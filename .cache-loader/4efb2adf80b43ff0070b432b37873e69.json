{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory=true!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\views\\PC\\index.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\views\\PC\\index.js","mtime":1539586841233},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1538971317145},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["'use strict';\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactRedux = require('react-redux');\n\nvar _index = require('./react/index');\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _SWPano = require('../../src/SWPano');\n\nvar _SWPano2 = _interopRequireDefault(_SWPano);\n\nvar _store = require('./redux/store/store');\n\nvar _store2 = _interopRequireDefault(_store);\n\nvar _Detector = require('../../src/libs/Detector');\n\nvar _Detector2 = _interopRequireDefault(_Detector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar swExternalConst = require('../../src/tool/SWExternalConst');\nvar axios = require('axios');\n\nString.prototype.getQuery = function (name) {\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n  var r = this.substr(this.indexOf(\"?\") + 1).match(reg);\n  if (r != null) return unescape(r[2]);\n  return null;\n};\n\n//获取外部配置文件\naxios.get(serverPath, {\n  responseType: \"json\"\n}).then(function (json) {\n  swExternalConst.server_json = json.data;\n  init();\n});\n\n//初始化底层全景和全景UI\nfunction init() {\n  var detector = new _Detector2.default();\n  if (!detector.detector.webgl) detector.addGetWebGLMessage();\n\n  //外部传入站点和看向点\n  var firtPanoid = swExternalConst.server_json.firstPanoID;\n  var htmlPanoId = document.URL.getQuery('PanoID');\n  var htmlYaw = document.URL.getQuery('dYaw');\n  var htmlPicth = document.URL.getQuery('dPitch');\n\n  swExternalConst.server_json.firstAnimation = htmlPanoId ? true : false;\n  swExternalConst.server_json.firstPanoID = htmlPanoId ? htmlPanoId : firtPanoid;\n  swExternalConst.server_json.firstYaw = htmlYaw;\n  swExternalConst.server_json.firstPitch = htmlPicth;\n\n  var swPano = new _SWPano2.default();\n  swPano.initStats();\n  swPano.initScene();\n  swPano.initCamera();\n  swPano.initRenderer();\n  swPano.initLight();\n  swPano.initService();\n  swPano.initMouseModule();\n  swPano.initCameraManage();\n  swPano.initSkyBox();\n  swPano.initWallModule();\n  swPano.initRoaming();\n  swPano.initEditor();\n\n  (0, _reactDom.render)(_react2.default.createElement(\n    _reactRedux.Provider,\n    { store: (0, _store2.default)() },\n    _react2.default.createElement(_index2.default, null)\n  ), document.getElementById('app'));\n\n  (function animate() {\n    requestAnimationFrame(animate);\n    swPano.Animate();\n  })();\n}",{"version":3,"sources":["app\\views\\PC\\index.js"],"names":["swExternalConst","require","axios","String","prototype","getQuery","name","reg","RegExp","r","substr","indexOf","match","unescape","get","serverPath","responseType","then","server_json","json","data","init","detector","Detector","webgl","addGetWebGLMessage","firtPanoid","firstPanoID","htmlPanoId","document","URL","htmlYaw","htmlPicth","firstAnimation","firstYaw","firstPitch","swPano","SWPano","initStats","initScene","initCamera","initRenderer","initLight","initService","initMouseModule","initCameraManage","initSkyBox","initWallModule","initRoaming","initEditor","getElementById","animate","requestAnimationFrame","Animate"],"mappings":";;AAAA;;;;AACA;;AAGA;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,kBAAkBC,QAAQ,gCAAR,CAAxB;AACA,IAAMC,QAAQD,QAAQ,OAAR,CAAd;;AAEAE,OAAOC,SAAP,CAAiBC,QAAjB,GAA4B,UAAUC,IAAV,EAAgB;AAC1C,MAAIC,MAAM,IAAIC,MAAJ,CAAW,UAAUF,IAAV,GAAiB,eAA5B,CAAV;AACA,MAAIG,IAAI,KAAKC,MAAL,CAAY,KAAKC,OAAL,CAAa,GAAb,IAAoB,CAAhC,EAAmCC,KAAnC,CAAyCL,GAAzC,CAAR;AACA,MAAIE,KAAK,IAAT,EACE,OAAOI,SAASJ,EAAE,CAAF,CAAT,CAAP;AACF,SAAO,IAAP;AACD,CAND;;AAQA;AACAP,MAAMY,GAAN,CAAUC,UAAV,EAAsB;AAClBC,gBAAc;AADI,CAAtB,EAGGC,IAHH,CAGQ,gBAAQ;AACZjB,kBAAgBkB,WAAhB,GAA8BC,KAAKC,IAAnC;AACAC;AACD,CANH;;AAQA;AACA,SAASA,IAAT,GAAgB;AACd,MAAIC,WAAW,IAAIC,kBAAJ,EAAf;AACA,MAAI,CAACD,SAASA,QAAT,CAAkBE,KAAvB,EAA8BF,SAASG,kBAAT;;AAE9B;AACA,MAAIC,aAAa1B,gBAAgBkB,WAAhB,CAA4BS,WAA7C;AACA,MAAIC,aAAaC,SAASC,GAAT,CAAazB,QAAb,CAAsB,QAAtB,CAAjB;AACA,MAAI0B,UAAUF,SAASC,GAAT,CAAazB,QAAb,CAAsB,MAAtB,CAAd;AACA,MAAI2B,YAAYH,SAASC,GAAT,CAAazB,QAAb,CAAsB,QAAtB,CAAhB;;AAEAL,kBAAgBkB,WAAhB,CAA4Be,cAA5B,GAA6CL,aAAa,IAAb,GAAoB,KAAjE;AACA5B,kBAAgBkB,WAAhB,CAA4BS,WAA5B,GAA0CC,aAAaA,UAAb,GAA0BF,UAApE;AACA1B,kBAAgBkB,WAAhB,CAA4BgB,QAA5B,GAAuCH,OAAvC;AACA/B,kBAAgBkB,WAAhB,CAA4BiB,UAA5B,GAAyCH,SAAzC;;AAEA,MAAII,SAAS,IAAIC,gBAAJ,EAAb;AACAD,SAAOE,SAAP;AACAF,SAAOG,SAAP;AACAH,SAAOI,UAAP;AACAJ,SAAOK,YAAP;AACAL,SAAOM,SAAP;AACAN,SAAOO,WAAP;AACAP,SAAOQ,eAAP;AACAR,SAAOS,gBAAP;AACAT,SAAOU,UAAP;AACAV,SAAOW,cAAP;AACAX,SAAOY,WAAP;AACAZ,SAAOa,UAAP;;AAEA,wBAAQ;AAAE,wBAAF;AAAA,MAAW,OACf,sBADI;AAGN,kCAAC,eAAD;AAHM,GAAR,EAKEpB,SAASqB,cAAT,CAAwB,KAAxB,CALF;;AAQA,GAAC,SAASC,OAAT,GAAmB;AAClBC,0BAAsBD,OAAtB;AACAf,WAAOiB,OAAP;AACD,GAHD;AAID","file":"index.js","sourceRoot":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano","sourcesContent":["import React from 'react';\r\nimport {\r\n  render\r\n} from 'react-dom';\r\nimport {\r\n  Provider\r\n} from 'react-redux';\r\nimport Index from './react/index';\r\nimport SWPano from '../../src/SWPano';\r\nimport initStore from './redux/store/store';\r\nimport Detector from '../../src/libs/Detector';\r\nconst swExternalConst = require('../../src/tool/SWExternalConst');\r\nconst axios = require('axios');\r\n\r\nString.prototype.getQuery = function (name) {\r\n  var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\r\n  var r = this.substr(this.indexOf(\"?\") + 1).match(reg);\r\n  if (r != null)\r\n    return unescape(r[2]);\r\n  return null;\r\n};\r\n\r\n//获取外部配置文件\r\naxios.get(serverPath, {\r\n    responseType: \"json\"\r\n  })\r\n  .then(json => {\r\n    swExternalConst.server_json = json.data;\r\n    init();\r\n  });\r\n\r\n//初始化底层全景和全景UI\r\nfunction init() {\r\n  let detector = new Detector();\r\n  if (!detector.detector.webgl) detector.addGetWebGLMessage();\r\n\r\n  //外部传入站点和看向点\r\n  let firtPanoid = swExternalConst.server_json.firstPanoID;\r\n  let htmlPanoId = document.URL.getQuery('PanoID');\r\n  let htmlYaw = document.URL.getQuery('dYaw');\r\n  let htmlPicth = document.URL.getQuery('dPitch');\r\n\r\n  swExternalConst.server_json.firstAnimation = htmlPanoId ? true : false;\r\n  swExternalConst.server_json.firstPanoID = htmlPanoId ? htmlPanoId : firtPanoid;\r\n  swExternalConst.server_json.firstYaw = htmlYaw;\r\n  swExternalConst.server_json.firstPitch = htmlPicth;\r\n\r\n  let swPano = new SWPano();\r\n  swPano.initStats();\r\n  swPano.initScene();\r\n  swPano.initCamera();\r\n  swPano.initRenderer();\r\n  swPano.initLight();\r\n  swPano.initService();\r\n  swPano.initMouseModule();\r\n  swPano.initCameraManage();\r\n  swPano.initSkyBox();\r\n  swPano.initWallModule();\r\n  swPano.initRoaming();\r\n  swPano.initEditor();\r\n\r\n  render( < Provider store = {\r\n      initStore()\r\n    } >\r\n    <Index />\r\n    </Provider>,\r\n    document.getElementById('app')\r\n  );\r\n\r\n  (function animate() {\r\n    requestAnimationFrame(animate);\r\n    swPano.Animate();\r\n  })();\r\n}"]}]}