{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory=true!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerTakePictureModule.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerTakePictureModule.js","mtime":1531470908058},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526631545426},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n            value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global THREE,$*/\n\n\nvar _SWMarkerMoreModule = require('./SWMarkerMoreModule');\n\nvar _SWMarkerMoreModule2 = _interopRequireDefault(_SWMarkerMoreModule);\n\nvar _SWDrawPoint = require('../draw/SWDrawPoint');\n\nvar _SWDrawPoint2 = _interopRequireDefault(_SWDrawPoint);\n\nvar _SWDrawLine = require('../draw/SWDrawLine');\n\nvar _SWDrawLine2 = _interopRequireDefault(_SWDrawLine);\n\nvar _SWTool = require('../../tool/SWTool');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * 绘制面标注\r\n */\nvar SWMarkerTakePictureModule = function () {\n            function SWMarkerTakePictureModule() {\n                        _classCallCheck(this, SWMarkerTakePictureModule);\n\n                        this.swDrawPoint = new _SWDrawPoint2.default();\n\n                        this.swMarkerMoreModule = new _SWMarkerMoreModule2.default();\n\n                        this.swDrawLine = new _SWDrawLine2.default();\n\n                        this.downPoint = new THREE.Vector2();\n\n                        this.upPoint = new THREE.Vector2();\n\n                        this.vpArr = [];\n            }\n\n            _createClass(SWMarkerTakePictureModule, [{\n                        key: 'addPoint',\n                        value: function addPoint(nx, ny, type) {\n\n                                    if (type === 1) {\n                                                //鼠标按下\n\n                                                this.downPoint.x = nx;\n\n                                                this.downPoint.y = ny;\n                                    } else if (type === 2) {\n                                                //鼠标弹起\n\n                                                this.upPoint.x = nx;\n\n                                                this.upPoint.y = ny;\n                                    }\n\n                                    if (this.upPoint.equals(this.downPoint)) {\n\n                                                var vp = (0, _SWTool.Vector3ToVP)((0, _SWTool.getSceneToWorld)(nx, ny));\n\n                                                this.vpArr.push({ yaw: vp._yaw, pitch: vp._pitch });\n\n                                                var poi = (0, _SWTool.VPToVector3)(vp);\n\n                                                this.swDrawPoint.drawPoint(poi);\n\n                                                this.swDrawLine.addPoint(poi, false);\n\n                                                if (this.vpArr.length > 3) {\n                                                            this.swMarkerMoreModule.clear();\n                                                            this.swMarkerMoreModule.createPolygon(this.vpArr);\n                                                }\n                                    }\n                        }\n            }]);\n\n            return SWMarkerTakePictureModule;\n}();\n\nexports.default = SWMarkerTakePictureModule;",null]}