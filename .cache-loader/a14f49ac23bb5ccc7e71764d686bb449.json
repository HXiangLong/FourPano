{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory=true!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","mtime":1543474073247},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540192322431},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _SWMarkerModule2 = require(\"./SWMarkerModule\");\n\nvar _SWMarkerModule3 = _interopRequireDefault(_SWMarkerModule2);\n\nvar _SWViewGesture = require(\"../../tool/SWViewGesture\");\n\nvar _SWViewGesture2 = _interopRequireDefault(_SWViewGesture);\n\nvar _SWConstants = require(\"../../tool/SWConstants\");\n\nvar _SWTool = require(\"../../tool/SWTool\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global THREE*/\n\nvar external = require('../../tool/SWExternalConst');\n\n/**\r\n * 单点标注显示\r\n */\n\nvar SWMarkerSingleModule = function (_SWMarkerModule) {\n    _inherits(SWMarkerSingleModule, _SWMarkerModule);\n\n    function SWMarkerSingleModule(obj) {\n        _classCallCheck(this, SWMarkerSingleModule);\n\n        var picurl = \"\",\n            type = 1,\n            parameters = {};\n\n        switch (obj.type) {\n            case 999:\n                picurl = external.marker_b_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 128 * 0.8,\n                    hPlane: 128 * 0.8\n                };\n                break;\n            case 998:\n                picurl = external.marker_helicopter_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 128 * 0.8,\n                    hPlane: 128 * 0.8\n                };\n                break;\n            case 4:\n            case 44:\n                //嵌入視頻，不包含人物講解視頻\n                picurl = external.marker_video_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 207,\n                    hPlane: 157\n                };\n                break;\n            case 2:\n                picurl = external.marker_default_anim_icon;\n                type = 2;\n                parameters = {\n                    fpsNum: 17,\n                    wPlane: 100,\n                    hPlane: 100\n                };\n\n                break;\n            default:\n                picurl = external.marker_default_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 32,\n                    hPlane: 32\n                };\n                break;\n        }\n\n        var _this = _possibleConstructorReturn(this, (SWMarkerSingleModule.__proto__ || Object.getPrototypeOf(SWMarkerSingleModule)).call(this, picurl, type, parameters));\n\n        _this.markerObj = obj;\n\n        if (_this.markerObj.type != 44) {\n            _this.swvg = new _SWViewGesture2.default(_this.markerObj.centerX, _this.markerObj.centerY, 0);\n\n            _this.v3 = (0, _SWTool.VPToVector3)(_this.swvg);\n        } else {\n\n            _this.v3 = new THREE.Vector3(_this.markerObj.centerX, _this.markerObj.centerY, _this.markerObj.centerZ);\n        }\n\n        _this.mesh.position.copy(_this.v3);\n\n        _this.mesh.lookAt(_SWConstants.camera.position);\n\n        _this.mesh.name = _this.markerObj.name;\n\n        _this.mesh.userData.depthlevel = 1;\n\n        _SWConstants.scene.add(_this.mesh);\n\n        _this.addMouseEvent();\n        return _this;\n    }\n\n    return SWMarkerSingleModule;\n}(_SWMarkerModule3.default);\n\nexports.default = SWMarkerSingleModule;",null]}