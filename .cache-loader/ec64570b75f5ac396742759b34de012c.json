{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\eslint-loader\\index.js??ref--5-0!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\SWPano.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\SWPano.js","mtime":1531464591106},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\.babelrc","mtime":1533282871391},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526631545426},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\eslint-loader\\index.js","mtime":1519638534000}],"contextDependencies":[],"result":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global THREE,$ */\n\nvar _SWConstants = require('./tool/SWConstants');\n\nvar constants = _interopRequireWildcard(_SWConstants);\n\nvar _Stats = require('./libs/Stats');\n\nvar _Stats2 = _interopRequireDefault(_Stats);\n\nvar _SWServerData = require('./server/SWServerData');\n\nvar _SWServerData2 = _interopRequireDefault(_SWServerData);\n\nvar _SWCameraModule = require('./module/SWCameraModule');\n\nvar _SWCameraModule2 = _interopRequireDefault(_SWCameraModule);\n\nvar _SWBoxJumpModule = require('./module/panoBox/SWBoxJumpModule');\n\nvar _SWBoxJumpModule2 = _interopRequireDefault(_SWBoxJumpModule);\n\nvar _SWMouseModule = require('./module/SWMouseModule');\n\nvar _SWMouseModule2 = _interopRequireDefault(_SWMouseModule);\n\nvar _SWWallModule = require('./module/laser/SWWallModule');\n\nvar _SWWallModule2 = _interopRequireDefault(_SWWallModule);\n\nvar _SWGroundModule = require('./module/laser/SWGroundModule');\n\nvar _SWGroundModule2 = _interopRequireDefault(_SWGroundModule);\n\nvar _SWWallSurfaceModule = require('./module/laser/SWWallSurfaceModule');\n\nvar _SWWallSurfaceModule2 = _interopRequireDefault(_SWWallSurfaceModule);\n\nvar _SWMeasureModule = require('./module/draw/SWMeasureModule');\n\nvar _SWMeasureModule2 = _interopRequireDefault(_SWMeasureModule);\n\nvar _SWMarkerTakePictureModule = require('./module/marker/SWMarkerTakePictureModule');\n\nvar _SWMarkerTakePictureModule2 = _interopRequireDefault(_SWMarkerTakePictureModule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TWEEN = require('@tweenjs/tween.js');\n\nvar SWPano = function () {\n    function SWPano() {\n        _classCallCheck(this, SWPano);\n    }\n\n    /**性能监测*/\n\n\n    _createClass(SWPano, [{\n        key: 'initStats',\n        value: function initStats() {\n            constants.stats = new _Stats2.default();\n            constants.stats.setMode(0); // 0: fps, 1: ms\n            constants.stats.domElement.style.position = 'absolute';\n            constants.stats.domElement.style.left = '0px';\n            constants.stats.domElement.style.top = '0px';\n            document.getElementById(\"Stats-output\").appendChild(constants.stats.domElement);\n        }\n\n        /**初始化相机*/\n\n    }, {\n        key: 'initCamera',\n        value: function initCamera() {\n            constants.camera = new THREE.PerspectiveCamera(constants.c_Maxfov, window.innerWidth / window.innerHeight, 0.1, 10000);\n\n            //创建6个渲染到WebGLRenderTargetCube的相机。\n            //near - 近裁剪距离。 far - 裁剪距离远。 cubeResolution - 设置立方体边缘的长度\n            constants.cubeCamera = new THREE.CubeCamera(1, 10000, constants.c_FaceDistance * 0.5);\n            constants.cubeCamera.renderTarget.texture.minFilter = THREE.LinearMipMapLinearFilter;\n            constants.scene.add(constants.cubeCamera);\n        }\n\n        /**初始化灯光*/\n\n    }, {\n        key: 'initLight',\n        value: function initLight() {\n            var ambientLight = new THREE.AmbientLight(0xFFFFFF, 4);\n            constants.scene.add(ambientLight);\n        }\n\n        /**初始化场景*/\n\n    }, {\n        key: 'initScene',\n        value: function initScene() {\n            constants.scene = new THREE.Scene();\n        }\n\n        /**初始化渲染*/\n\n    }, {\n        key: 'initRenderer',\n        value: function initRenderer() {\n            constants.renderer = new THREE.WebGLRenderer({ antialias: true, logarithmicDepthBuffer: true, alpha: true });\n            constants.renderer.setSize(window.innerWidth, window.innerHeight);\n            document.getElementById('canvas3d').appendChild(constants.renderer.domElement);\n            constants.renderer.domElement.style.position = \"absolute\";\n            constants.renderer.domElement.style.display = \"block\";\n            //设置canvas背景色(clearColor)\n            constants.renderer.setClearColor(0xffffff, 1.0);\n            constants.renderer.shadowMapEnabled = true;\n        }\n\n        /**每帧调用*/\n\n    }, {\n        key: 'Animate',\n        value: function Animate() {\n            if (constants.stats) constants.stats.update();\n\n            TWEEN.update();\n\n            this.Update();\n\n            constants.camera.aspect = window.innerWidth / window.innerHeight;\n            constants.camera.updateProjectionMatrix();\n            constants.renderer.setPixelRatio(window.devicePixelRatio);\n            constants.renderer.setSize(window.innerWidth, window.innerHeight);\n            constants.renderer.render(constants.scene, constants.camera);\n        }\n\n        /**其他需要更新的都在这里*/\n\n    }, {\n        key: 'Update',\n        value: function Update() {\n\n            //计时器\n            var delta = constants.c_clock.getDelta();\n\n            //相机旋转\n            if (constants.sw_cameraManage) constants.sw_cameraManage.update();\n\n            //箭头动画\n            if (constants.c_arrowArr.length > 0) {\n\n                constants.c_arrowArr.map(function (item) {\n\n                    item.update(delta);\n                });\n            }\n        }\n\n        /**初始化读取数据对象*/\n\n    }, {\n        key: 'initService',\n        value: function initService() {\n            constants.sw_getService = new _SWServerData2.default();\n            constants.sw_getService.getConfig();\n        }\n\n        /**初始化相机控制对象*/\n\n    }, {\n        key: 'initCameraManage',\n        value: function initCameraManage() {\n            constants.sw_cameraManage = new _SWCameraModule2.default();\n        }\n\n        /**初始化天空盒子*/\n\n    }, {\n        key: 'initSkyBox',\n        value: function initSkyBox() {\n            constants.sw_skyBox = new _SWBoxJumpModule2.default();\n        }\n\n        /**初始化鼠标操作控件*/\n\n    }, {\n        key: 'initMouseModule',\n        value: function initMouseModule() {\n            var canvas = document.getElementById('canvas3d');\n            constants.sw_mouseControl = new _SWMouseModule2.default(canvas);\n        }\n\n        /**墙片初始化 */\n\n    }, {\n        key: 'initWallModule',\n        value: function initWallModule() {\n            constants.sw_wallMesh = new _SWWallModule2.default();\n            constants.sw_groundMesh = new _SWGroundModule2.default();\n            constants.sw_wallProbeSurface = new _SWWallSurfaceModule2.default();\n            constants.sw_measure = new _SWMeasureModule2.default();\n        }\n\n        /**初始化编辑版需要的内容 */\n\n    }, {\n        key: 'initEditor',\n        value: function initEditor() {\n            constants.sw_markPoint = new _SWMarkerTakePictureModule2.default();\n        }\n    }]);\n\n    return SWPano;\n}();\n\nexports.default = SWPano;",null]}