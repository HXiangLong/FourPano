{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory=true!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","mtime":1531377459867},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1526631545426},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n        value: true\n});\n\nvar _SWMarkerModule2 = require(\"./SWMarkerModule\");\n\nvar _SWMarkerModule3 = _interopRequireDefault(_SWMarkerModule2);\n\nvar _SWViewGesture = require(\"../../tool/SWViewGesture\");\n\nvar _SWViewGesture2 = _interopRequireDefault(_SWViewGesture);\n\nvar _SWConstants = require(\"../../tool/SWConstants\");\n\nvar _SWTool = require(\"../../tool/SWTool\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global THREE*/\n\nvar external = require('../../tool/SWExternalConst');\n\n/**\r\n * 单点标注显示\r\n */\n\nvar SWMarkerSingleModule = function (_SWMarkerModule) {\n        _inherits(SWMarkerSingleModule, _SWMarkerModule);\n\n        function SWMarkerSingleModule(obj) {\n                _classCallCheck(this, SWMarkerSingleModule);\n\n                var picurl = \"\",\n                    type = 1,\n                    parameters = {};\n\n                switch (obj.type) {\n                        case 999:\n                                picurl = external.marker_b_icon;\n                                parameters = { fpsNum: 1, wPlane: 128 * 0.8, hPlane: 128 * 0.8 };\n                                break;\n                        case 998:\n                                picurl = external.marker_helicopter_icon;\n                                parameters = { fpsNum: 1, wPlane: 128 * 0.8, hPlane: 128 * 0.8 };\n                                break;\n                        case 4:\n                                picurl = external.marker_video_icon;\n                                parameters = { fpsNum: 1, wPlane: 207, hPlane: 157 };\n                                break;\n                        case 2:\n                                picurl = external.marker_default_anim_icon;\n                                type = 2;\n                                parameters = { fpsNum: 17, wPlane: 100, hPlane: 100 };\n\n                                break;\n                        default:\n                                picurl = external.marker_default_icon;\n                                parameters = { fpsNum: 1, wPlane: 32, hPlane: 32 };\n                                break;\n                }\n\n                var _this = _possibleConstructorReturn(this, (SWMarkerSingleModule.__proto__ || Object.getPrototypeOf(SWMarkerSingleModule)).call(this, picurl, type, parameters));\n\n                _this.mouseDownBoo = false;\n\n                _this.markerObj = obj;\n\n                _this.swvg = new _SWViewGesture2.default(_this.markerObj.centerX, _this.markerObj.centerY, 0);\n\n                _this.v3 = (0, _SWTool.VPToVector3)(_this.swvg);\n\n                _this.mesh.position.copy(_this.v3);\n\n                _this.mesh.lookAt(_SWConstants.camera.position);\n\n                _this.mesh.name = _this.markerObj.name;\n\n                _this.mesh.userData.depthlevel = 1;\n\n                _SWConstants.scene.add(_this.mesh);\n\n                _this.mesh.mouseDown = function (e, obj) {\n\n                        _this.mouseDownBoo = true;\n                };\n\n                _this.mesh.mouseUp = function (e, obj) {\n\n                        if (_this.mouseDownBoo) {\n                                _this.mouseDownBoo = false;\n                                console.log(\"鼠标弹起啦~~~~~\" + _this.markerObj.name);\n                        }\n                };\n\n                //鼠标进入\n                _this.mesh.mouseOver = function (e, obj) {\n                        _this.showTextDiv(obj, _this.markerObj.name);\n                };\n\n                //出去\n                _this.mesh.mouseOut = function (e, obj) {\n                        _this.hideTextDiv();\n                };\n                return _this;\n        }\n\n        return SWMarkerSingleModule;\n}(_SWMarkerModule3.default);\n\nexports.default = SWMarkerSingleModule;",{"version":3,"sources":["app\\src\\module\\marker\\SWMarkerSingleModule.js"],"names":["external","require","SWMarkerSingleModule","obj","picurl","type","parameters","marker_b_icon","fpsNum","wPlane","hPlane","marker_helicopter_icon","marker_video_icon","marker_default_anim_icon","marker_default_icon","mouseDownBoo","markerObj","swvg","SWViewGesture","centerX","centerY","v3","mesh","position","copy","lookAt","camera","name","userData","depthlevel","scene","add","mouseDown","e","mouseUp","console","log","mouseOver","showTextDiv","mouseOut","hideTextDiv","SWMarkerModule"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;AACA;;;;;;;;+eALA;;AAMA,IAAMA,WAAWC,QAAQ,4BAAR,CAAjB;;AAEA;;;;IAGMC,oB;;;AACF,sCAAYC,GAAZ,EAAiB;AAAA;;AAEb,oBAAIC,SAAS,EAAb;AAAA,oBACIC,OAAO,CADX;AAAA,oBAEIC,aAAa,EAFjB;;AAIA,wBAAQH,IAAIE,IAAZ;AACI,6BAAK,GAAL;AACID,yCAASJ,SAASO,aAAlB;AACAD,6CAAa,EAAEE,QAAQ,CAAV,EAAaC,QAAQ,MAAM,GAA3B,EAAgCC,QAAQ,MAAM,GAA9C,EAAb;AACA;AACJ,6BAAK,GAAL;AACIN,yCAASJ,SAASW,sBAAlB;AACAL,6CAAa,EAAEE,QAAQ,CAAV,EAAaC,QAAQ,MAAM,GAA3B,EAAgCC,QAAQ,MAAM,GAA9C,EAAb;AACA;AACJ,6BAAK,CAAL;AACIN,yCAASJ,SAASY,iBAAlB;AACAN,6CAAa,EAAEE,QAAQ,CAAV,EAAaC,QAAQ,GAArB,EAA0BC,QAAQ,GAAlC,EAAb;AACA;AACJ,6BAAK,CAAL;AACIN,yCAASJ,SAASa,wBAAlB;AACAR,uCAAO,CAAP;AACAC,6CAAa,EAAEE,QAAQ,EAAV,EAAcC,QAAQ,GAAtB,EAA2BC,QAAQ,GAAnC,EAAb;;AAEA;AACJ;AACIN,yCAASJ,SAASc,mBAAlB;AACAR,6CAAa,EAAEE,QAAQ,CAAV,EAAaC,QAAQ,EAArB,EAAyBC,QAAQ,EAAjC,EAAb;AACA;AAtBR;;AANa,wJA8BPN,MA9BO,EA8BCC,IA9BD,EA8BOC,UA9BP;;AAgCb,sBAAKS,YAAL,GAAoB,KAApB;;AAEA,sBAAKC,SAAL,GAAiBb,GAAjB;;AAEA,sBAAKc,IAAL,GAAY,IAAIC,uBAAJ,CAAkB,MAAKF,SAAL,CAAeG,OAAjC,EAA0C,MAAKH,SAAL,CAAeI,OAAzD,EAAkE,CAAlE,CAAZ;;AAEA,sBAAKC,EAAL,GAAU,yBAAY,MAAKJ,IAAjB,CAAV;;AAEA,sBAAKK,IAAL,CAAUC,QAAV,CAAmBC,IAAnB,CAAwB,MAAKH,EAA7B;;AAEA,sBAAKC,IAAL,CAAUG,MAAV,CAAiBC,oBAAOH,QAAxB;;AAEA,sBAAKD,IAAL,CAAUK,IAAV,GAAiB,MAAKX,SAAL,CAAeW,IAAhC;;AAEA,sBAAKL,IAAL,CAAUM,QAAV,CAAmBC,UAAnB,GAAgC,CAAhC;;AAEAC,mCAAMC,GAAN,CAAU,MAAKT,IAAf;;AAEA,sBAAKA,IAAL,CAAUU,SAAV,GAAsB,UAACC,CAAD,EAAI9B,GAAJ,EAAY;;AAE9B,8BAAKY,YAAL,GAAoB,IAApB;AAEH,iBAJD;;AAMA,sBAAKO,IAAL,CAAUY,OAAV,GAAoB,UAACD,CAAD,EAAI9B,GAAJ,EAAY;;AAE5B,4BAAI,MAAKY,YAAT,EAAuB;AACnB,sCAAKA,YAAL,GAAoB,KAApB;AACAoB,wCAAQC,GAAR,CAAY,eAAe,MAAKpB,SAAL,CAAeW,IAA1C;AACH;AAEJ,iBAPD;;AASA;AACA,sBAAKL,IAAL,CAAUe,SAAV,GAAsB,UAACJ,CAAD,EAAI9B,GAAJ,EAAY;AAC9B,8BAAKmC,WAAL,CAAiBnC,GAAjB,EAAsB,MAAKa,SAAL,CAAeW,IAArC;AAEH,iBAHD;;AAKA;AACA,sBAAKL,IAAL,CAAUiB,QAAV,GAAqB,UAACN,CAAD,EAAI9B,GAAJ,EAAY;AAC7B,8BAAKqC,WAAL;AACH,iBAFD;AAxEa;AA2EhB;;;EA5E8BC,wB;;kBA8EpBvC,oB","file":"SWMarkerSingleModule.js","sourceRoot":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano","sourcesContent":["/* global THREE*/\r\n\r\nimport SWMarkerModule from \"./SWMarkerModule\";\r\nimport SWViewGesture from \"../../tool/SWViewGesture\";\r\nimport { camera, scene } from '../../tool/SWConstants';\r\nimport { VPToVector3 } from '../../tool/SWTool';\r\nconst external = require('../../tool/SWExternalConst');\r\n\r\n/**\r\n * 单点标注显示\r\n */\r\nclass SWMarkerSingleModule extends SWMarkerModule {\r\n    constructor(obj) {\r\n\r\n        let picurl = \"\",\r\n            type = 1,\r\n            parameters = {};\r\n\r\n        switch (obj.type) {\r\n            case 999:\r\n                picurl = external.marker_b_icon;\r\n                parameters = { fpsNum: 1, wPlane: 128 * 0.8, hPlane: 128 * 0.8 };\r\n                break;\r\n            case 998:\r\n                picurl = external.marker_helicopter_icon;\r\n                parameters = { fpsNum: 1, wPlane: 128 * 0.8, hPlane: 128 * 0.8 };\r\n                break;\r\n            case 4:\r\n                picurl = external.marker_video_icon;\r\n                parameters = { fpsNum: 1, wPlane: 207, hPlane: 157 };\r\n                break;\r\n            case 2:\r\n                picurl = external.marker_default_anim_icon;\r\n                type = 2;\r\n                parameters = { fpsNum: 17, wPlane: 100, hPlane: 100 };\r\n\r\n                break;\r\n            default:\r\n                picurl = external.marker_default_icon;\r\n                parameters = { fpsNum: 1, wPlane: 32, hPlane: 32 };\r\n                break;\r\n        }\r\n        super(picurl, type, parameters);\r\n\r\n        this.mouseDownBoo = false;\r\n\r\n        this.markerObj = obj;\r\n\r\n        this.swvg = new SWViewGesture(this.markerObj.centerX, this.markerObj.centerY, 0);\r\n\r\n        this.v3 = VPToVector3(this.swvg);\r\n\r\n        this.mesh.position.copy(this.v3);\r\n\r\n        this.mesh.lookAt(camera.position);\r\n\r\n        this.mesh.name = this.markerObj.name;\r\n\r\n        this.mesh.userData.depthlevel = 1;\r\n\r\n        scene.add(this.mesh);\r\n\r\n        this.mesh.mouseDown = (e, obj) => {\r\n\r\n            this.mouseDownBoo = true;\r\n\r\n        };\r\n\r\n        this.mesh.mouseUp = (e, obj) => {\r\n\r\n            if (this.mouseDownBoo) {\r\n                this.mouseDownBoo = false;\r\n                console.log(\"鼠标弹起啦~~~~~\" + this.markerObj.name);\r\n            }\r\n\r\n        };\r\n\r\n        //鼠标进入\r\n        this.mesh.mouseOver = (e, obj) => {\r\n            this.showTextDiv(obj, this.markerObj.name);\r\n\r\n        }\r\n\r\n        //出去\r\n        this.mesh.mouseOut = (e, obj) => {\r\n            this.hideTextDiv();\r\n        }\r\n    }\r\n}\r\nexport default SWMarkerSingleModule;"]}]}