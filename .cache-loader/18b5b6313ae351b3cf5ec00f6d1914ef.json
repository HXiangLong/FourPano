{"remainingRequest":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js?cacheDirectory=true!D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","dependencies":[{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\app\\src\\module\\marker\\SWMarkerSingleModule.js","mtime":1543474073247},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1540192322431},{"path":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano\\node_modules\\babel-loader\\lib\\index.js","mtime":1520329890000}],"contextDependencies":[],"result":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _SWMarkerModule2 = require(\"./SWMarkerModule\");\n\nvar _SWMarkerModule3 = _interopRequireDefault(_SWMarkerModule2);\n\nvar _SWViewGesture = require(\"../../tool/SWViewGesture\");\n\nvar _SWViewGesture2 = _interopRequireDefault(_SWViewGesture);\n\nvar _SWConstants = require(\"../../tool/SWConstants\");\n\nvar _SWTool = require(\"../../tool/SWTool\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* global THREE*/\n\nvar external = require('../../tool/SWExternalConst');\n\n/**\r\n * 单点标注显示\r\n */\n\nvar SWMarkerSingleModule = function (_SWMarkerModule) {\n    _inherits(SWMarkerSingleModule, _SWMarkerModule);\n\n    function SWMarkerSingleModule(obj) {\n        _classCallCheck(this, SWMarkerSingleModule);\n\n        var picurl = \"\",\n            type = 1,\n            parameters = {};\n\n        switch (obj.type) {\n            case 999:\n                picurl = external.marker_b_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 128 * 0.8,\n                    hPlane: 128 * 0.8\n                };\n                break;\n            case 998:\n                picurl = external.marker_helicopter_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 128 * 0.8,\n                    hPlane: 128 * 0.8\n                };\n                break;\n            case 4:\n            case 44:\n                //嵌入視頻，不包含人物講解視頻\n                picurl = external.marker_video_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 207,\n                    hPlane: 157\n                };\n                break;\n            case 2:\n                picurl = external.marker_default_anim_icon;\n                type = 2;\n                parameters = {\n                    fpsNum: 17,\n                    wPlane: 100,\n                    hPlane: 100\n                };\n\n                break;\n            default:\n                picurl = external.marker_default_icon;\n                parameters = {\n                    fpsNum: 1,\n                    wPlane: 32,\n                    hPlane: 32\n                };\n                break;\n        }\n\n        var _this = _possibleConstructorReturn(this, (SWMarkerSingleModule.__proto__ || Object.getPrototypeOf(SWMarkerSingleModule)).call(this, picurl, type, parameters));\n\n        _this.markerObj = obj;\n\n        if (_this.markerObj.type != 44) {\n            _this.swvg = new _SWViewGesture2.default(_this.markerObj.centerX, _this.markerObj.centerY, 0);\n\n            _this.v3 = (0, _SWTool.VPToVector3)(_this.swvg);\n        } else {\n\n            _this.v3 = new THREE.Vector3(_this.markerObj.centerX, _this.markerObj.centerY, _this.markerObj.centerZ);\n        }\n\n        _this.mesh.position.copy(_this.v3);\n\n        _this.mesh.lookAt(_SWConstants.camera.position);\n\n        _this.mesh.name = _this.markerObj.name;\n\n        _this.mesh.userData.depthlevel = 1;\n\n        _SWConstants.scene.add(_this.mesh);\n\n        _this.addMouseEvent();\n        return _this;\n    }\n\n    return SWMarkerSingleModule;\n}(_SWMarkerModule3.default);\n\nexports.default = SWMarkerSingleModule;",{"version":3,"sources":["app\\src\\module\\marker\\SWMarkerSingleModule.js"],"names":["external","require","SWMarkerSingleModule","obj","picurl","type","parameters","marker_b_icon","fpsNum","wPlane","hPlane","marker_helicopter_icon","marker_video_icon","marker_default_anim_icon","marker_default_icon","markerObj","swvg","SWViewGesture","centerX","centerY","v3","THREE","Vector3","centerZ","mesh","position","copy","lookAt","camera","name","userData","depthlevel","scene","add","addMouseEvent","SWMarkerModule"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;AAIA;;;;;;;;+eARA;;AAWA,IAAMA,WAAWC,QAAQ,4BAAR,CAAjB;;AAEA;;;;IAGMC,oB;;;AACF,kCAAYC,GAAZ,EAAiB;AAAA;;AAEb,YAAIC,SAAS,EAAb;AAAA,YACIC,OAAO,CADX;AAAA,YAEIC,aAAa,EAFjB;;AAIA,gBAAQH,IAAIE,IAAZ;AACI,iBAAK,GAAL;AACID,yBAASJ,SAASO,aAAlB;AACAD,6BAAa;AACTE,4BAAQ,CADC;AAETC,4BAAQ,MAAM,GAFL;AAGTC,4BAAQ,MAAM;AAHL,iBAAb;AAKA;AACJ,iBAAK,GAAL;AACIN,yBAASJ,SAASW,sBAAlB;AACAL,6BAAa;AACTE,4BAAQ,CADC;AAETC,4BAAQ,MAAM,GAFL;AAGTC,4BAAQ,MAAM;AAHL,iBAAb;AAKA;AACJ,iBAAK,CAAL;AACA,iBAAK,EAAL;AAAS;AACLN,yBAASJ,SAASY,iBAAlB;AACAN,6BAAa;AACTE,4BAAQ,CADC;AAETC,4BAAQ,GAFC;AAGTC,4BAAQ;AAHC,iBAAb;AAKA;AACJ,iBAAK,CAAL;AACIN,yBAASJ,SAASa,wBAAlB;AACAR,uBAAO,CAAP;AACAC,6BAAa;AACTE,4BAAQ,EADC;AAETC,4BAAQ,GAFC;AAGTC,4BAAQ;AAHC,iBAAb;;AAMA;AACJ;AACIN,yBAASJ,SAASc,mBAAlB;AACAR,6BAAa;AACTE,4BAAQ,CADC;AAETC,4BAAQ,EAFC;AAGTC,4BAAQ;AAHC,iBAAb;AAKA;AA3CR;;AANa,gJAmDPN,MAnDO,EAmDCC,IAnDD,EAmDOC,UAnDP;;AAqDb,cAAKS,SAAL,GAAiBZ,GAAjB;;AAEA,YAAI,MAAKY,SAAL,CAAeV,IAAf,IAAuB,EAA3B,EAA+B;AAC3B,kBAAKW,IAAL,GAAY,IAAIC,uBAAJ,CAAkB,MAAKF,SAAL,CAAeG,OAAjC,EAA0C,MAAKH,SAAL,CAAeI,OAAzD,EAAkE,CAAlE,CAAZ;;AAEA,kBAAKC,EAAL,GAAU,yBAAY,MAAKJ,IAAjB,CAAV;AAEH,SALD,MAKO;;AAEH,kBAAKI,EAAL,GAAU,IAAIC,MAAMC,OAAV,CAAkB,MAAKP,SAAL,CAAeG,OAAjC,EAA0C,MAAKH,SAAL,CAAeI,OAAzD,EAAkE,MAAKJ,SAAL,CAAeQ,OAAjF,CAAV;AACH;;AAED,cAAKC,IAAL,CAAUC,QAAV,CAAmBC,IAAnB,CAAwB,MAAKN,EAA7B;;AAEA,cAAKI,IAAL,CAAUG,MAAV,CAAiBC,oBAAOH,QAAxB;;AAEA,cAAKD,IAAL,CAAUK,IAAV,GAAiB,MAAKd,SAAL,CAAec,IAAhC;;AAEA,cAAKL,IAAL,CAAUM,QAAV,CAAmBC,UAAnB,GAAgC,CAAhC;;AAEAC,2BAAMC,GAAN,CAAU,MAAKT,IAAf;;AAEA,cAAKU,aAAL;AA3Ea;AA4EhB;;;EA7E8BC,wB;;kBA+EpBjC,oB","file":"SWMarkerSingleModule.js","sourceRoot":"D:\\02数文\\WebProject\\NodeAllProject\\FourPano","sourcesContent":["/* global THREE*/\r\n\r\nimport SWMarkerModule from \"./SWMarkerModule\";\r\nimport SWViewGesture from \"../../tool/SWViewGesture\";\r\nimport {\r\n    camera,\r\n    scene\r\n} from '../../tool/SWConstants';\r\nimport {\r\n    VPToVector3\r\n} from '../../tool/SWTool';\r\nconst external = require('../../tool/SWExternalConst');\r\n\r\n/**\r\n * 单点标注显示\r\n */\r\nclass SWMarkerSingleModule extends SWMarkerModule {\r\n    constructor(obj) {\r\n\r\n        let picurl = \"\",\r\n            type = 1,\r\n            parameters = {};\r\n\r\n        switch (obj.type) {\r\n            case 999:\r\n                picurl = external.marker_b_icon;\r\n                parameters = {\r\n                    fpsNum: 1,\r\n                    wPlane: 128 * 0.8,\r\n                    hPlane: 128 * 0.8\r\n                };\r\n                break;\r\n            case 998:\r\n                picurl = external.marker_helicopter_icon;\r\n                parameters = {\r\n                    fpsNum: 1,\r\n                    wPlane: 128 * 0.8,\r\n                    hPlane: 128 * 0.8\r\n                };\r\n                break;\r\n            case 4:\r\n            case 44: //嵌入視頻，不包含人物講解視頻\r\n                picurl = external.marker_video_icon;\r\n                parameters = {\r\n                    fpsNum: 1,\r\n                    wPlane: 207,\r\n                    hPlane: 157\r\n                };\r\n                break;\r\n            case 2:\r\n                picurl = external.marker_default_anim_icon;\r\n                type = 2;\r\n                parameters = {\r\n                    fpsNum: 17,\r\n                    wPlane: 100,\r\n                    hPlane: 100\r\n                };\r\n\r\n                break;\r\n            default:\r\n                picurl = external.marker_default_icon;\r\n                parameters = {\r\n                    fpsNum: 1,\r\n                    wPlane: 32,\r\n                    hPlane: 32\r\n                };\r\n                break;\r\n        }\r\n        super(picurl, type, parameters);\r\n\r\n        this.markerObj = obj;\r\n\r\n        if (this.markerObj.type != 44) {\r\n            this.swvg = new SWViewGesture(this.markerObj.centerX, this.markerObj.centerY, 0);\r\n\r\n            this.v3 = VPToVector3(this.swvg);\r\n            \r\n        } else {\r\n\r\n            this.v3 = new THREE.Vector3(this.markerObj.centerX, this.markerObj.centerY, this.markerObj.centerZ);\r\n        }\r\n\r\n        this.mesh.position.copy(this.v3);\r\n\r\n        this.mesh.lookAt(camera.position);\r\n\r\n        this.mesh.name = this.markerObj.name;\r\n\r\n        this.mesh.userData.depthlevel = 1;\r\n\r\n        scene.add(this.mesh);\r\n\r\n        this.addMouseEvent();\r\n    }\r\n}\r\nexport default SWMarkerSingleModule;"]}]}